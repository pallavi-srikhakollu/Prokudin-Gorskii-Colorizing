function align1 = im_align1 ()for img=1:1:6  img_name = sprintf('image%d.jpg',img) FullImage=(imread(img_name));[height ,width]=size(FullImage);height= floor(height/3);blue_image = FullImage(1:height,:);G = FullImage( height + 1:2*height,:);R = FullImage( 2*height + 1:3*height,:);Xg = 0;  Xr = 0;Yg = 0;Yr = 0;layer_Red = R(240:320,250:320);layer_Blue = blue_image(240:320,250:320);layer_Green = G(240:320,250:320);ssdg = 1000000;ssdr = 1000000;for i=-15:1:15         for j=-15:1:15                        shifted_Red = circshift(layer_Red, [i j]);          shifted_Green = circshift(layer_Green, [i j]);                  sumg= 0;          sumr= 0;          sumr = sum(sum((layer_Blue-shifted_Red).^2));          sumg = sum(sum((layer_Blue-shifted_Green).^2));                    if(sumr<ssdr)            Xr = j;            Yr = i;            ssdr = sumr;          endif                     if(sumg<ssdg)              Xg = j;               Yg = i;              ssdg = sumg;          endif      endforendforfprintf('Displacement in x direction in red %d\n',Xr)fprintf("Displacement in y direction in red %d\n ",Yr)fprintf('Displacement in x direction in green %d\n',Xg)fprintf("Displacement in y direction in green %d\n ",Yg)image = cat(3,circshift(R,[Yr Xr]),circshift(G,[Yg Xg]), blue_image);img_name = sprintf('image%d-ssd.jpg',img);imwrite(image,img_name);endforend